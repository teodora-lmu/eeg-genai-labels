<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>AI Image Rating Task</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .container { max-width: 700px; margin: auto; }
    img { width: 100%; max-height: 320px; object-fit: contain; margin-bottom: 20px; border-radius: 6px; }
    .slider-labels { display: flex; justify-content: space-between; font-size: 0.9em; color: #555; margin-bottom: 6px; }
    #slider, #confidenceSlider { width: 100%; }
    #nextButton { padding: 10px 16px; font-size: 1rem; border: none; border-radius: 6px; background: #2d6cdf; color: #fff; }
    #nextButton:disabled { background-color: #ccc; cursor: not-allowed; }
    #progress { font-size: 0.9em; color: #333; margin-bottom: 10px; text-align: right; }
    .hidden { display: none; }
    .note { font-size: 0.9em; color: #555; margin-bottom: 8px; }
  </style>

  <!-- Firebase SDK (ESM) -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js";
    import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-auth.js";
    import { getFirestore } from "https://www.gstatic.com/firebasejs/10.13.0/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDZ2S2cdztJc7Xh9PKBHHtSJP5Z-ZitRHY",
      authDomain: "ai-labels-4a313.firebaseapp.com",
      projectId: "ai-labels-4a313",
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);
    const auth = getAuth(app);

    window.__FIREBASE__ = { db, auth, onAuthStateChanged, signInAnonymously };
  </script>
</head>
<body>
  <div class="container">
    <div class="note">Target: <strong>30 ratings per image</strong>. Images stop showing once full.</div>
    <div id="ratingInterface">
      <div id="progress">Loadingâ€¦</div>
      <img id="imageToRate" src="" alt="Image to rate" />

      <p><strong>This image was created with the help of generative AI.</strong></p>

      <div class="slider-section">
        <div class="slider-labels">
          <span>Strongly Disagree</span>
          <span>Strongly Agree</span>
        </div>
        <input type="range" id="slider" min="1" max="100" value="50" />
      </div>

      <br />
      <label for="confidenceSlider"><strong>I am confident in my response.</strong></label>
      <div class="slider-labels">
        <span>Strongly Disagree</span>
        <span>Strongly Agree</span>
      </div>
      <input type="range" id="confidenceSlider" min="1" max="100" value="50" />

      <br /><br />
      <button id="nextButton" disabled>Next Image</button>
    </div>

    <div id="confirmationPage" class="hidden">
      <h2>Thank you!</h2>
      <p>You have rated all available images. Please click the arrow below to continue.</p>
    </div>
  </div>

  <script>
    // ===================== PARAMETERS =====================
    const TARGET_RATINGS = 30;
    // ===================== IMAGES WITH STARTING COUNTS =====================
    const imagesWithCounts = [
      // ---- 15 ratings ----
      { path: "stimuli/ai_generated/man_filtered/asian/men_0427.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0433.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0470.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0548.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0561.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/black/man_1006.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/black/man_1056.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/black/man_1069.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/black/man_1127.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/black/man_1140.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0606.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0949.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0955.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0962.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0984.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0447.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0596.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0633.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0636.jpg", count: 15 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0703.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0911.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0913.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0914.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0928.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0978.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/black/woman_0260.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/black/woman_0261.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/black/woman_0262.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/black/woman_0276.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/black/woman_0291.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/latino/woman_0775.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/latino/woman_0927.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/latino/woman_0931.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/latino/woman_1065.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/latino/woman_1066.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/white/woman_0276.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/white/woman_0282.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/white/woman_0317.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/white/woman_0365.jpg", count: 15 },
      { path: "stimuli/ai_generated/woman_filtered/white/woman_0632.jpg", count: 15 },

      // ---- 17 ratings ----
      { path: "stimuli/ai_generated/man_filtered/asian/men_0233.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0243.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0255.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0258.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0261.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0825.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_1068.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_1077.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_1116.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_1123.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0861.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0886.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0887.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0897.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0899.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0242.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0249.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0313.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0358.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0379.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0261.jpg", count: 17 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0349.jpg", count: 17 },

      // ---- 19 ratings ----
      { path: "stimuli/ai_generated/man_filtered/asian/man_0904.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/asian/man_1186.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0054.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0057.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0077.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0516.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0583.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0584.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0587.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0592.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/latino/man_0608.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/latino/man_0630.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/latino/man_0632.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/latino/man_0633.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/latino/man_0713.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0042.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0061.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0103.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0134.jpg", count: 19 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0135.jpg", count: 19 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0051.jpg", count: 19 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0062.jpg", count: 19 },

      // ---- 25 ratings ----
      { path: "stimuli/ai_generated/man_filtered/asian/men_0269.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0296.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0367.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0387.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0426.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0909.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0921.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0941.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0963.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/black/man_0993.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0444.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0477.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0501.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0503.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_0515.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0285.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0292.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0293.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0344.jpg", count: 25 },
      { path: "stimuli/ai_generated/man_filtered/white/man_0356.jpg", count: 25 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0609.jpg", count: 25 },
      { path: "stimuli/ai_generated/woman_filtered/asian/woman_0621.jpg", count: 25 },

      // ---- 26 ratings ----
      { path: "stimuli/ai_generated/man_filtered/asian/men_0580.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0739.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0750.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0757.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/asian/men_0758.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0005.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0070.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0082.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0182.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/black/men_0198.jpg", count: 26 },
      { path: "stimuli/ai_generated/man_filtered/latino/men_1063.jpg", count:26}
  ]